import{_ as g,r as U,o as S,s as c,c as z,b as o,w as l,L as T,T as V,M as k,m as u,n as B,q as i,p as a,t as C,z as I}from"./index-9M1sJ_mE.js";const M={name:"setting-common",setup(){let r=U({ip:window.localStorage.getItem("rpc-ip")||"127.0.0.1",port:window.localStorage.getItem("rpc-port")||6800,timeout:null});const{proxy:t}=I(),p=()=>{r.timeout&&clearTimeout(r.timeout),T().then(s=>{t.$store.dispatch("filterStates",[s.data]),r.timeout=setTimeout(p,1e3)})};return S(()=>{r.timeout&&clearTimeout(r.timeout)}),p(),{opts:r,onSubmit:()=>{window.localStorage.setItem("rpc-ip",r.ip),window.localStorage.setItem("rpc-port",r.port),V("保存成功！"),window.location.reload()},store:c,onSubmit2:()=>{k(c.state.options).then(s=>{V("保存成功："+s.data.result)})},download:s=>{window.open(s)}}}},N={style:{"text-align":"center"}},A={style:{"text-align":"center"}},D={style:{"text-align":"center"}},E={style:{margin:"16px"}},G=i("br",null,null,-1),h=i("br",null,null,-1),j=i("br",null,null,-1),q=i("br",null,null,-1),L=i("br",null,null,-1),O=i("br",null,null,-1),R=i("br",null,null,-1),F=i("br",null,null,-1),H=i("br",null,null,-1),J=i("br",null,null,-1),K=i("br",null,null,-1),P=i("br",null,null,-1),Q={style:{margin:"16px"}},W=i("i",{class:"fa fa-cube"},null,-1),X=i("i",{class:"fa fa-layer-group"},null,-1),Y=i("i",{class:"fa fa-chess-rook"},null,-1);function Z(r,t,p,e,w,y){const s=u("van-button"),m=u("van-cell"),d=u("van-field"),f=u("van-cell-group"),b=u("van-form"),v=u("van-tab"),_=u("van-switch"),x=u("van-tabs");return B(),z("div",null,[o(x,null,{default:l(()=>[o(v,{title:"Aria2"},{default:l(()=>[o(b,{onSubmit:e.onSubmit},{default:l(()=>[o(f,{inset:""},{default:l(()=>[o(m,null,{value:l(()=>[i("div",N,[o(s,{plain:"",type:"default",size:"mini",style:{"font-weight":"900","font-style":"italic"}},{default:l(()=>[a("[ http / https ] : //")]),_:1})])]),_:1}),o(d,{modelValue:e.opts.ip,"onUpdate:modelValue":t[0]||(t[0]=n=>e.opts.ip=n),value:"",placeholder:"127.0.0.1","input-align":"center"},null,8,["modelValue"]),o(m,null,{value:l(()=>[i("div",A,[o(s,{plain:"",type:"default",size:"mini",style:{"font-weight":"900","font-style":"italic"}},{default:l(()=>[a(":")]),_:1})])]),_:1}),o(d,{modelValue:e.opts.port,"onUpdate:modelValue":t[1]||(t[1]=n=>e.opts.port=n),value:"",placeholder:"6800","input-align":"center"},null,8,["modelValue"]),o(m,null,{value:l(()=>[i("div",D,[o(s,{plain:"",type:"default",size:"mini",style:{"font-weight":"900","font-style":"italic"}},{default:l(()=>[a("/ jsonrpc")]),_:1})])]),_:1})]),_:1}),i("div",E,[o(s,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[a(" 提交 ")]),_:1})])]),_:1},8,["onSubmit"])]),_:1}),o(v,{title:"参数"},{default:l(()=>[o(b,{onSubmit:e.onSubmit2,"label-width":"12rem"},{default:l(()=>[o(f,{inset:""},{default:l(()=>[o(d,{modelValue:e.store.state.options.dir,"onUpdate:modelValue":t[2]||(t[2]=n=>e.store.state.options.dir=n),value:""},{label:l(()=>[a("保存路径"),G,a("(dir)")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options.continue,"onUpdate:modelValue":t[4]||(t[4]=n=>e.store.state.options.continue=n),value:""},{label:l(()=>[a("断点续传"),h,a("(continue)")]),input:l(()=>[o(_,{modelValue:e.store.state.options.continue,"onUpdate:modelValue":t[3]||(t[3]=n=>e.store.state.options.continue=n),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["max-concurrent-downloads"],"onUpdate:modelValue":t[5]||(t[5]=n=>e.store.state.options["max-concurrent-downloads"]=n),value:""},{label:l(()=>[a("最大下载任务数"),j,a("(max-concurrent-downloads)")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["max-connection-per-server"],"onUpdate:modelValue":t[6]||(t[6]=n=>e.store.state.options["max-connection-per-server"]=n),value:""},{label:l(()=>[a("单服务器最大连接数"),q,a("(max-connection-per-server)")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["min-split-size"],"onUpdate:modelValue":t[7]||(t[7]=n=>e.store.state.options["min-split-size"]=n),value:""},{label:l(()=>[a(" 最小文件分片大小 "),o(s,{color:"#7232dd",plain:"",round:"",size:"mini"},{default:l(()=>[a(C(Math.round(e.store.state.options["min-split-size"]/1024/1024*100)/100+"M"),1)]),_:1}),L,a("(min-split-size) ")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options.split,"onUpdate:modelValue":t[8]||(t[8]=n=>e.store.state.options.split=n),value:""},{label:l(()=>[a("单任务最大线程数"),O,a("(split)")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["max-tries"],"onUpdate:modelValue":t[9]||(t[9]=n=>e.store.state.options["max-tries"]=n),value:""},{label:l(()=>[a("最大重试次数"),R,a("(max-tries)")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["retry-wait"],"onUpdate:modelValue":t[10]||(t[10]=n=>e.store.state.options["retry-wait"]=n),value:""},{label:l(()=>[a("重试等待时间"),F,a("(retry-wait)")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["max-file-not-found"],"onUpdate:modelValue":t[11]||(t[11]=n=>e.store.state.options["max-file-not-found"]=n),value:""},{label:l(()=>[a("文件未找到重试次数"),H,a("(max-file-not-found)")]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["bt-seed-unverified"],"onUpdate:modelValue":t[13]||(t[13]=n=>e.store.state.options["bt-seed-unverified"]=n),value:""},{label:l(()=>[a("启动下载未完成BT任务"),J,a("(bt-seed-unverified)")]),input:l(()=>[o(_,{modelValue:e.store.state.options["bt-seed-unverified"],"onUpdate:modelValue":t[12]||(t[12]=n=>e.store.state.options["bt-seed-unverified"]=n),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["bt-save-metadata"],"onUpdate:modelValue":t[15]||(t[15]=n=>e.store.state.options["bt-save-metadata"]=n),value:""},{label:l(()=>[a("保存磁链为BT任务"),K,a("(bt-save-metadata)")]),input:l(()=>[o(_,{modelValue:e.store.state.options["bt-save-metadata"],"onUpdate:modelValue":t[14]||(t[14]=n=>e.store.state.options["bt-save-metadata"]=n),"active-value":"true","inactive-value":"false"},null,8,["modelValue"])]),_:1},8,["modelValue"]),o(d,{modelValue:e.store.state.options["bt-max-open-files"],"onUpdate:modelValue":t[16]||(t[16]=n=>e.store.state.options["bt-max-open-files"]=n),value:""},{label:l(()=>[a("BT任务下载最大文件数"),P,a("(bt-max-open-files)")]),_:1},8,["modelValue"])]),_:1}),i("div",Q,[o(s,{round:"",block:"",type:"primary","native-type":"submit"},{default:l(()=>[a(" 提交 ")]),_:1})])]),_:1},8,["onSubmit"])]),_:1}),o(v,{title:"帮助"},{default:l(()=>[o(m,{"value-class":"text-center"},{value:l(()=>[o(s,{round:"",plain:"",type:"primary",onClick:t[17]||(t[17]=n=>e.download("./plugin/BaiduExporter-1.0.3.crx"))},{default:l(()=>[W,a(" 浏览器插件 ")]),_:1})]),_:1}),o(m,{"value-class":"text-center"},{value:l(()=>[o(s,{round:"",plain:"",type:"primary",onClick:t[18]||(t[18]=n=>e.download("https://gitee.com/owendawn/Resource/raw/master/aria2-1.34.0.zip"))},{default:l(()=>[X,a(" Aria2 ")]),_:1})]),_:1}),o(m,{"value-class":"text-center"},{value:l(()=>[o(s,{round:"",plain:"",type:"primary",onClick:t[19]||(t[19]=n=>e.download("https://gitee.com/owendawn/aria2uv4"))},{default:l(()=>[Y,a(" 源码 ")]),_:1})]),_:1})]),_:1})]),_:1})])}const tt=g(M,[["render",Z]]);export{tt as default};
