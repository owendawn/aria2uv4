import{T as _}from"./download-todo-vqAj9Tg4.js";import{_ as f,r as w,o as h,A as T,a as v,c as d,d as c,e as m,F as g,f as k,J as y,m as u,n as o,z as x}from"./index-9M1sJ_mE.js";const D={name:"wait",components:{ToDownload:_},setup(){let t=w({timeout:null,downloads:[]});const{proxy:i}=x(),s=()=>{t.timeout&&clearTimeout(t.timeout),y().then(r=>{i.$store.dispatch("filterStates",r.data);const n=r.data.filter(e=>e.id.indexOf("sendTellWaitREQ_")===0).map(e=>e.result);n&&n.length>0&&(t.downloads=n[0]),t.timeout=setTimeout(s,1e3)})};return h(()=>{t.timeout&&clearTimeout(t.timeout)}),T(s),{activeId:v("1"),data:t}}},B={key:1};function C(t,i,s,a,r,n){const e=u("van-empty"),p=u("ToDownload");return o(),d("div",null,[a.data.downloads.length===0?(o(),c(e,{key:0,description:"尚无任务"})):m("",!0),a.data.downloads.length>0?(o(),d("div",B,[(o(!0),d(g,null,k(a.data.downloads,l=>(o(),c(p,{key:l.id,todo:l},null,8,["todo"]))),128))])):m("",!0)])}const E=f(D,[["render",C]]);export{E as default};
