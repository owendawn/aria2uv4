import{T as _}from"./download-todo-8e94FCaX.js";import{_ as f,r as w,o as h,z as T,a as v,c as d,d as c,e as m,F as y,f as g,I as k,l as u,m as o,y as x}from"./index-MTUZ50MT.js";const D={name:"wait",components:{ToDownload:_},setup(){let t=w({timeout:null,downloads:[]});const{proxy:i}=x(),s=()=>{t.timeout&&clearTimeout(t.timeout),k().then(r=>{i.$store.dispatch("filterStates",r.data);const n=r.data.filter(e=>e.id.indexOf("sendTellWaitREQ_")===0).map(e=>e.result);n&&n.length>0&&(t.downloads=n[0]),t.timeout=setTimeout(s,1e3)})};return h(()=>{t.timeout&&clearTimeout(t.timeout)}),T(s),{activeId:v("1"),data:t}}},I={key:1};function B(t,i,s,a,r,n){const e=u("van-empty"),p=u("ToDownload");return o(),d("div",null,[a.data.downloads.length===0?(o(),c(e,{key:0,description:"尚无任务"})):m("",!0),a.data.downloads.length>0?(o(),d("div",I,[(o(!0),d(y,null,g(a.data.downloads,l=>(o(),c(p,{key:l.id,todo:l},null,8,["todo"]))),128))])):m("",!0)])}const F=f(D,[["render",B]]);export{F as default};
